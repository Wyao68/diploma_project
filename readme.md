# 数据驱动辅助高频电力电子线圈设计

## 设计目标
一个专注于线圈设计的通用化方案，该方案不依赖于WPT系统的具体拓扑，而是通过数据驱动的方法建立线圈的几何参数与电气参数（如自感、电阻、互感等）之间的映射关系。这样的方案可以用于快速评估和优化线圈设计。

神经网络模型本身可以作为一个代理模型来替代耗时的有限元仿真。通过用实验数据校正，这个代理模型既保持了快速计算的优势，又提高了预测的真实性。

>在机器学习中，算法往往并不是关键，真正的关键之处在于选取特征。选取特征需要我们人类对问题的深刻理解，经验、以及思考。而神经网络算法的一个优势，就在于它能够自动学习到应该提取什么特征，从而使算法不再那么依赖人类

## 具体思路
### 1.定义输入特征（设计变量）
对于通用线圈设计，考虑以下几何参数和材料参数：
* 线圈形状（平面螺旋、圆柱螺旋）
* 匝数($N$)
* 匝间距($p$)
* 线径($d$)
* 内径($D_{in}$) 或 外径($D_{out}$)
* 线圈高度($h$)（对于圆柱线圈）
* 导线材料（电导率$\sigma$）

### 2.确定输出目标（电气参数）
* 自感($L$)
* 交流电阻($R_{ac}$)（在特定频率下）
* 自谐振频率($SRF$)或寄生电容
* 品质因数($Q$)
* 互感($M$)（当有两个及以上线圈时，还需要考虑相对位置）

**由于互感依赖于多个线圈的相对位置，我们可以先建立单个线圈的模型，然后利用诺依曼公式等计算互感，或者将互感作为另一个数据驱动问题（输入为两个线圈的几何参数和相对位置）。**

### 3.数据收集
使用有限元仿真进行参数化扫描，结合一些真实实验数据，生成数据集。 

### 4.数据预处理

### 5.模型选择

### 6.模型训练与验证
**两阶段迁移学习：**  
第一阶段（仿真预训练）：使用全部仿真数据对神经网络进行初步训练，让模型学习到电磁场变化的基础规律。此时，模型可能在仿真数据上表现良好，但用于真实实验数据时存在偏差。

第二阶段（实验数据微调）：用少量的实验数据，在预训练模型的基础上继续训练。此时可以使用较小的学习率，避免破坏模型已学到的基础知识，只进行细微调整。引入真实数据能有效提升模型对真实情况的预测精度，减少仿真与实验间的偏差。

### 7.优化设计
将该代理模型与优化算法（如模拟退火算法、粒子群算法）结合，进行线圈参数的自动优化设计。

### 8.理论支持
* **半监督学习**：同时使用大量"带噪"或"有偏"的仿真数据（弱标签）和少量高精度实验数据（强标签）。研究表明，在高维数据场景下，未标记数据（或带噪数据）能有效提升模型的估计精度和鲁棒性。
* **迁移学习**：先在仿真的"源域"学习基础任务，然后将知识迁移到实验的"目标域"。这解决了目标域数据不足的问题。
* **物理信息机器学习**：将已知的物理定律（如电磁场方程）以软约束形式融入神经网络损失函数，能减轻模型对不完美数据的过拟合，提升外推能力和结果的物理合理性。

